<!DOCTYPE html>
<html lang="zh_cn">
<head>
	<title>ge_ren_bo_ke - publishing</title>
	<meta charset="utf-8" />
    <meta name="author" content="chen_meng_xu">
	<link rel="stylesheet" href="/theme/css/franticworld.css" type="text/css" />
	<link href="/theme/css/pygments.css" rel="stylesheet">
</head>
<body background="/theme/img/pattern.png">
		<div class="nav-banner">
		<a href="">ge_ren_bo_ke</a>
		</div>
		
		<div class="content">

<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango01.html " >Django--01简介</a>
		<h3>框架定义</h3>
<p>​        <strong>软件框架（software framework），通常指的是为了实现某个业界标准或完成特定基本任务的软件组件规范，也指为了实现某个软件组件规范时，提供规范所要求之基础功能的软件产品。简而言之，框架就是制定一套规范或者规则（思想），大家（程序员）在该规范或者规则（思想）下工作。或者说使用别人搭好的舞台来做编剧和表演。</strong></p>
<h3>Django的历史</h3>
<p>要了解一个东西，必须知道它的由来 
        Django 是从真实世界的应用中成长起来的，它是由堪萨斯（Kansas）州 Lawrence 城中的一个网络开发小组编写的。它诞生于 2003 年秋天，那时 Lawrence Journal-World 报纸的程序员 Adrian Holovaty 和 Simon Willison 开始用 Python 来编写程序。 
        当时他们的 World Online 小组制作并维护当地的几个新闻站点，并在以新闻界特有的快节奏开发环境中逐渐发展。这些站点包括有 LJWorld.com、Lawrence …</p>
		<a class="btnmore" href="/Diango01.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango02.html " >Django--02虚拟环境</a>
		<h1>虚拟环境</h1>
<h3>为什么需要虚拟环境：</h3>
<p>到目前位置，我们所有的第三方包安装都是直接通过<code>pip install xx</code>的方式进行安装的，这样安装会将那个包安装到你的系统级的<code>Python</code>环境中。但是这样有一个问题，就是如果你现在用<code>Django 1.18.x</code>写了个网站，然后你的领导跟你说，之前有一个旧项目是用<code>Django 2.1.x</code>开发的，让你来维护，但是<code>Django 1.18.x</code>不再兼容<code>Django 2.1.x</code>的一些语法了。这时候就会碰到一个问题，我如何在我的电脑中同时拥有<code>Django 1.18.x</code>和<code>Django 2.1.x</code>两套环境呢？这时候我们就可以通过虚拟环境来解决这个问题 …</p>
		<a class="btnmore" href="/Diango02.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango03.html " >Django--03环境的安装</a>
		<h3>学习Django之前的准备工作</h3>
<p>准备好开发环境，python3.6，django2.1.8。</p>
<p>请确安装了python3.6或者更高的版本。并且在python下安装了virtualenv。</p>
<p>virtualenv安装详情请参考<a href=".\Django--day01_2虚拟环境.md">Django--day01_2虚拟环境.md</a></p>
<h4>安装Django环境</h4>
<h5>1、进入虚拟环境</h5>
<div class="highlight"><pre><span></span><span class="n">workon</span> <span class="n">my_env</span>
</pre></div>


<h5>2、安装django</h5>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">django</span><span class="o">==</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">8</span>
</pre></div>


<h5>3、退出虚拟环境</h5>
<div class="highlight"><pre><span></span><span class="n">deactivate</span>
</pre></div>
		<a class="btnmore" href="/Diango03.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango04.html " >Django--04项目创建和应用创建</a>
		<h3>创建第一个django项目</h3>
<h3>例用命令创建项目</h3>
<h5>1、进入虚拟环境</h5>
<div class="highlight"><pre><span></span><span class="n">workon</span> <span class="n">my_env</span>
</pre></div>


<h5>2、cd到要创建项目的目录下，创建django项目</h5>
<p>进入到E:\django_code下，创建django项目</p>
<p><img alt="cmd切换目录" src=".\django相关截图\cmd切换目录.png"></p>
<h5>3、使用命令，创建django项目 django-admin startproject 项目名</h5>
<p><img alt="使用命令创建django项目" src=".\django相关截图\使用命令创建django项目.png"></p>
<p><strong>创建项目以后，生成以下文件</strong></p>
<p><img alt="django项目目录结构" src=".\django相关截图\django项目目录结构.png"></p>
<p><strong>修改settings文件以下行：</strong></p>
<div class="highlight"><pre><span></span><span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span>  <span class="c1"># 允许的主机后面加 * 或者加对应的IP</span>
<span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s1">&#39;zh-hans&#39;</span>  <span class="c1"># 语言编码改为zh-hans</span>
<span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;Asia/Shanghai&#39;</span>  <span class="c1"># 时区必变  Asia/Shanghai</span>
<span class="n">USE_TZ</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># 改为False </span>
</pre></div>


<h5>4、创建app  cd进入项目目录，例如：cd mysite</h5>
<p><img alt="使用命令创建app" src=".\django相关截图\使用命令创建app.png"></p>
<p><strong>app创建完成以后，修改settings文件以下内容</strong></p>
<p><img alt="settings安装app" src=".\django相关截图\settings安装app.png"></p>
<p><strong>修改urls内容（作为跳转使用，方便以后管理）</strong></p>
<p>​        在我们的项目中，不可能只有一个<code>app …</code></p>
		<a class="btnmore" href="/Diango04.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango05.html " >Django--05pep8规范</a>
		<h3>Python-PEP8编码规范</h3>
<h4>1、代码编排</h4>
<ul>
<li>缩进。4个空格的缩进（编辑器都可以完成此功能），不使用Tap，更不能混合使用Tap和空格。</li>
<li>每行最大长度79，换行可以使用反斜杠，最好使用圆括号。换行点要在操作符的后边敲回车。</li>
<li>类和top-level（顶级窗口）函数定义之间空两行；类中的方法定义之间空一行；函数内逻辑无关段落之间空一行；其他地方尽量不要再空行。</li>
</ul>
<h4>2、文档编排</h4>
<ul>
<li>模块内容的顺序：模块说明和docstring—import—globals&amp;constants—其他定义。其中import部分，又按标准、三方和自己编写顺序依次排放，之间空一行。</li>
<li>不要在一句import中多个库，比如import os, sys不推荐。</li>
<li>如果采用from XX import XX引用库，可以省略‘module.’，都是可能出现命名冲突，这时就要采用import XX。</li>
</ul>
<h4>3、空格的使用</h4>
<p>总体原则，避免不必要的空格。</p>
<ul>
<li>各种右括号前不要加空格。</li>
<li>逗号、冒号 …</li></ul>
		<a class="btnmore" href="/Diango05.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango06.html " >Django--06视图与URL映射</a>
		<h3>视图与URL映射</h3>
<h4>视图</h4>
<p>​        视图一般都写在<code>app</code>的<code>views.py</code>中。并且视图的第一个参数永远都是<code>request</code>（一个HttpRequest）对象。这个对象存储了请求过来的所有信息，包括携带的参数以及一些头部信息等。在视图中，一般是完成逻辑相关的操作。比如这个请求是添加一篇博客，那么可以通过request来接收到这些数据，然后存储到数据库中，最后再把执行的结果返回给浏览器。视图函数的返回结果必须是<code>HttpResponseBase</code>对象或者子类的对象。示例代码如下：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>


<span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    @ author: XXX</span>
<span class="sd">    @ date: 2019-8-27</span>
<span class="sd">    跳转到首页</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;这里是首页&quot;</span><span class="p">)</span>
</pre></div>


<p><strong>注：author、date多人开发，有利于代码管理</strong></p>
<h4>带参数的视图</h4>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse …</span></pre></div>
		<a class="btnmore" href="/Diango06.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango07.html " >Django--07常用字段</a>
		<h3>常用字段以及字段参数</h3>
<h4>以下参数可用于所有字段，所有都是可选的</h4>
<ul>
<li>
<p><strong>null参数，用法models.CharField(max_length=20, null=True)，表示字段值最大长度为20，并且可以为空。</strong></p>
</li>
<li>
<p><strong>blank参数，用法models.CharField(max_length=20, blank=True), 表示字段值最大长度为20，并且表单验证可以为空。一般与null同时使用。</strong></p>
</li>
<li>
<p><strong>choices参数</strong></p>
</li>
</ul>
<p>用法：</p>
<p>```python
  from django.db import models</p>
<p>class Person(models.Model):
      """
      性别: M代表男，F代表女
      """
      SEX_CHOICES = [
          ("M", "Male"),
          ("F", "Female")
      ]
      name = models.CharField(max_length=20)
      gender = models.CharField …</p>
		<a class="btnmore" href="/Diango07.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango08.html " >Django--08Meta常用选项</a>
		<h3>Django模型之Meta常用选项</h3>
<p>Django模型类的Meta是一个内部类，它用于定义一些Django模型类的行为特性。而可用的选项大致包含以下几类</p>
<h3>abstract</h3>
<p>这个属性是定义当前的模型是不是一个抽象类。所谓抽象类是不会对应数据库表的。一般我们用它来归纳一些公共属性字段，然后继承它的子类可以继承这些字段。</p>
<p>Options.abstract
如果abstract = True 这个model就是一个抽象类</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>


<span class="k">class</span> <span class="nc">BaseModel</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;大多数模型的父类模型&quot;&quot;&quot;</span>
    <span class="n">create_time</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;创建时间&#39;</span><span class="p">)</span>
    <span class="n">update_time</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;修改时间&#39;</span><span class="p">)</span>
    <span class="n">is_delete</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;删除标记&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">abstract</span> <span class="o">=</span> <span class="bp">True</span>  <span class="c1"># 抽象模型类 …</span></pre></div>
		<a class="btnmore" href="/Diango08.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango09.html " >Django--09ORM操作</a>
		<h3>Django模型之ORM操作</h3>
<h4>ORM介绍</h4>
<ul>
<li><strong>什么是ORM</strong>
  ORM 全拼Object-Relation Mapping.</li>
</ul>
<p>中文意为 对象-关系映射.</p>
<p>在MVC/MVT设计模式中的Model模块中都包括ORM</p>
<ul>
<li>
<p><strong>ORM优势</strong></p>
</li>
<li>
<p>只需要面向对象编程, 不需要面向数据库编写代码.</p>
<p>对数据库的操作都转化成对类属性和方法的操作.
不用编写各种数据库的sql语句.</p>
</li>
<li>
<p>实现了数据模型与数据库的解耦, 屏蔽了不同数据库操作上的差异.</p>
<p>不在关注用的是mysql、oracle...等.
通过简单的配置就可以轻松更换数据库, 而不需要修改代码.</p>
</li>
<li>
<p><strong>ORM劣势</strong>
  相比较直接使用SQL语句操作数据库,有性能损失.
  根据对象的操作转换成SQL语句,根据查询的结果转化成对象, 在映射过程中有性能损失.</p>
</li>
<li>
<p><strong>ORM和数据库关系：</strong>
  在Django中model是你数据的单一、明确的信息来源。它包含了你存储的数据的重要字段和行为。通常，一个模型（model）映射到一个数据库表.</p>
</li>
</ul>
<p>基本情况：</p>
<p>每个模型都是一个Python类，它是django.db.models.Model的子类。</p>
<p>模型的每个属性都代表一个数据库字段。</p>
<h4>ORM操作</h4>
<p><strong>增加操作</strong></p>
<div class="highlight"><pre><span></span><span class="c1"># 通过python manage.py shell 进入到shell下 …</span></pre></div>
		<a class="btnmore" href="/Diango09.html">more ...</a>
	</div>
</div>
<div class="summarycontainer">
	<div class="metabox">
		<p class="metayear">小旭</p>
		<p class="metaday">♥</p>
		<p class="metayear">雪</p>
		<p class="metacategory">一辈子</p>
	</div>
	<div class="summarybox">
		<a class="summarytitle" href="/Diango10.html " >Django--10Vue解决跨域问题</a>
		<h3>解决跨域问题------django解决方案</h3>
<p><strong>1、安装django-core-headers</strong></p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">django</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">headers</span>
</pre></div>


<p><strong>2、配置settings文件</strong></p>
<ul>
<li><strong>加入到INSTALLED_APPS下面</strong></li>
</ul>
<p>```python
   INSTALLED_APPS = [
      # 第三方框架
      'corsheaders',  # 解决跨域问题</p>
<p>]
  ```</p>
<ul>
<li><strong>配置MIDDLEWARE中间件，放在SessionMiddleware和CommonMiddleware中间。</strong></li>
</ul>
<p>```python
  MIDDLEWARE = [
      'django.contrib.sessions.middleware.SessionMiddleware',
      'corsheaders.middleware.CorsMiddleware',  # 解决跨域问题，必须放在这个位置，加载顺序
      'django.middleware.common.CommonMiddleware',</p>
<p>]
  ```</p>
<ul>
<li><strong>配置允许跨域访问的域名</strong></li>
</ul>
<p><code>python
  CORS_ORIGIN_ALLOW_ALL = True   # 解决跨域，配置允许跨域访问的域名，为True时，允许所有的域名</code></p>
<p><strong>注意：这三项都是在django项目下的seetings中配置的</strong></p>
<h3>解决跨域问题------VUE解决方案</h3>
<div class="highlight"><pre><span></span><span class="n">proxyTable</span><span class="p">:</span> <span class="err">{</span>
    <span class="s1">&#39;/api&#39;</span><span class="p">:</span> <span class="err">{</span>  <span class="o">//</span><span class="err">使用</span><span class="ss">&quot;/api …</span></pre></div>
		<a class="btnmore" href="/Diango10.html">more ...</a>
	</div>
</div>

<p class="paginator">
    Page 1 / 1
</p>
		</div>
		
		<div class="sidebar">
<div class="sidebarcategory">
<h4>个人简介</h4>
	<li><a href="#"><b>博主：</b>小旭旭</a></li>
	<li><a href="#"><b>生日：</b>2000-07-24</a></li>
	<li><a href="#"><b>性别：</b>公</a></li>
	<li><a href="#"><b>爱人：</b>小雪雪</a></li>
</div>

<div class="sidebarpages">
</div>

<div class="sidebarcategory">
<h4>相关连接</h4>
	<li><a href="https://gitee.com/QiHanXiBei/projects" target="_blank">刘悦git</a></li>
	<li><a href="https://v3u.cn/" target="_blank">刘悦技术博客</a></li>
	<li><a href="https://gitee.com/eastside" target="_blank">Eastsidegit</a></li>
    <li><a href="https://lienze.tech/" target="_blank">老渔夫吃虾米</a></li>
    <li><a href="https://gitee.com/chen_meng-_xu/projects" target="_blank">陈梦旭git</a></li>

</div>

<div class="sidebarcategory">
<h4>热点文档</h4>
    <li><a href="http://localhost:8000/my_tow.html">Django--01简介</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--02虚拟环境</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--03环境的安装</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--04项目创建和应用</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--05pep8规范</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--06视图与URL映射</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--07常用字段</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--08Meta常用选项</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--0ORM操作</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--10Vue解决跨域问题</a></li>

<!---->
</div>		</div>
		
		<footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                磨练， <a href="http://getpelican.com/">使人难以忍受，</a>,
                使人步履维艰， <a href="http://python.org">但它能使强者站得更挺，</a>,
				走得更稳， <a href="http://frantic1048.com/">产生更强的斗志。</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>