<!DOCTYPE html>
<html lang="zh_cn">
<head>
	<title>Django--02虚拟环境 | ge_ren_bo_ke</title>
	<meta charset="utf-8" />
    <meta name="author" content="chen_meng_xu">
	<link rel="stylesheet" href="/theme/css/franticworld.css" type="text/css" />
	<link href="/theme/css/pygments.css" rel="stylesheet">
</head>
<body background="/theme/img/pattern.png">
		<div class="nav-banner">
		<a href="">ge_ren_bo_ke</a>
		</div>
		
		<div class="content">

<div class="metabox">
	<p class="metayear">小旭</p>
	<p class="metaday">♥</p>
	<p class="metayear">小雪</p>
	<p class="metacategory">一辈子</p>
</div>
<div class="arcticlecontentbox">
	<div class="articlecontent">
		<a class="articletitle" href="/Diango02.html " >Django--02虚拟环境</a>
		<h1>虚拟环境</h1>
<h3>为什么需要虚拟环境：</h3>
<p>到目前位置，我们所有的第三方包安装都是直接通过<code>pip install xx</code>的方式进行安装的，这样安装会将那个包安装到你的系统级的<code>Python</code>环境中。但是这样有一个问题，就是如果你现在用<code>Django 1.18.x</code>写了个网站，然后你的领导跟你说，之前有一个旧项目是用<code>Django 2.1.x</code>开发的，让你来维护，但是<code>Django 1.18.x</code>不再兼容<code>Django 2.1.x</code>的一些语法了。这时候就会碰到一个问题，我如何在我的电脑中同时拥有<code>Django 1.18.x</code>和<code>Django 2.1.x</code>两套环境呢？这时候我们就可以通过虚拟环境来解决这个问题。</p>
<h3>虚拟环境原理介绍：</h3>
<p>虚拟环境相当于一个抽屉，在这个抽屉中安装的任何软件包都不会影响到其他抽屉。并且在项目中，我可以指定这个项目的虚拟环境来配合我的项目。比如我们现在有一个项目是基于<code>Django 1.18.x</code>版本，又有一个项目是基于<code>Django 2.1.x</code>的版本，那么这时候就可以创建两个虚拟环境，在这两个虚拟环境中分别安装<code>Django 1.18.x</code>和<code>Django 2.1.x</code>来适配我们的项目。</p>
<h3>安装<code>virtualenv</code>：</h3>
<p><code>virtualenv</code>是用来创建虚拟环境的软件工具，我们可以通过<code>pip</code>或者<code>pip3</code>来安装：</p>
<div class="highlight"><pre><span></span>    pip install virtualenv
    pip3 install virtualenv  <span class="c1"># 一般在linux下用这个命令</span>
</pre></div>


<h3>更改虚拟环境路径</h3>
<ul>
<li><strong>添加环境变量</strong></li>
</ul>
<p><img alt="虚拟环境设置" src=".\django相关截图\虚拟环境设置.png"></p>
<ul>
<li><strong>在python的安装路径下script下，找到mkvirtualenv.bat文件</strong></li>
</ul>
<p><img alt="修改mkvirtualenv文件" src=".\django相关截图\修改mkvirtualenv文件.png"></p>
<ul>
<li><strong>修改其中的第24行内容</strong></li>
</ul>
<p><img alt="修改mkvirtualenv文件1" src=".\django相关截图\修改mkvirtualenv文件1.png"></p>
<h3>创建虚拟环境：</h3>
<p>创建虚拟环境非常简单，通过以下命令就可以创建了：</p>
<div class="highlight"><pre><span></span>   <span class="c1"># mkvirtualenv [虚拟环境的名字]</span>
   mkvirtualenv py_dj2
</pre></div>


<p>如果你当前的<code>Python3/Scripts</code>的查找路径在<code>Python2/Scripts</code>的前面，那么将会使用<code>python3</code>作为这个虚拟环境的解释器。如果<code>python2/Scripts</code>在<code>python3/Scripts</code>前面，那么将会使用<code>Python2</code>来作为这个虚拟环境的解释器。</p>
<h3>进入环境：</h3>
<p>虚拟环境创建好了以后，那么可以进入到这个虚拟环境中，然后安装一些第三方包，进入虚拟环境在不同的操作系统中有不同的方式，一般分为两种，第一种是<code>Windows</code>，第二种是<code>Linux</code>：</p>
<ol>
<li><code>windows</code>进入虚拟环境：进入到虚拟环境的<code>Scripts</code>文件夹中，然后执行<code>activate</code>。</li>
<li><code>Linux</code>进入虚拟环境：<code>source /path/to/virtualenv/bin/activate</code>
   一旦你进入到了这个虚拟环境中，你安装包，卸载包都是在这个虚拟环境中，不会影响到外面的环境。</li>
</ol>
<h3>退出虚拟环境：</h3>
<p>退出虚拟环境很简单，通过一个命令就可以完成：<code>deactivate</code>。</p>
<h3>virtualenvwrapper：</h3>
<p><code>virtualenvwrapper</code>这个软件包可以让我们管理虚拟环境变得更加简单。不用再跑到某个目录下通过<code>virtualenv</code>来创建虚拟环境，并且激活的时候也要跑到具体的目录下去激活。</p>
<h4>安装<code>virtualenvwrapper</code>：</h4>
<ol>
<li>Linux：<code>pip install virtualenvwrapper</code>。</li>
<li>windows：<code>pip install virtualenvwrapper-win</code>。</li>
</ol>
<h4><code>virtualenvwrapper</code>基本使用：</h4>
<ol>
<li>创建虚拟环境：</li>
</ol>
<p><code>shell
    mkvirtualenv my_env</code></p>
<p>那么会在你当前用户下创建一个<code>Env</code>的文件夹，然后将这个虚拟环境安装到这个目录下。
   如果你电脑中安装了<code>python2</code>和<code>python3</code>，并且两个版本中都安装了<code>virtualenvwrapper</code>，那么将会使用环境变量中第一个出现的<code>Python</code>版本来作为这个虚拟环境的<code>Python</code>解释器。</p>
<ol>
<li>切换到某个虚拟环境：</li>
</ol>
<p><code>shell
    workon my_env</code></p>
<ol>
<li>退出当前虚拟环境：</li>
</ol>
<p><code>shell
    deactivate</code></p>
<ol>
<li>删除某个虚拟环境：</li>
</ol>
<p><code>shell
    rmvirtualenv my_env</code></p>
<ol>
<li>列出所有虚拟环境：</li>
</ol>
<p><code>shell
    lsvirtualenv</code></p>
<ol>
<li>创建虚拟环境的时候指定<code>Python</code>版本：</li>
</ol>
<p>在使用<code>mkvirtualenv</code>的时候，可以指定<code>--python</code>的参数来指定具体的<code>python</code>路径：</p>
<div class="highlight"><pre><span></span>    <span class="n">mkvirtualenv</span> <span class="c1">--python==C:\Python36\python.exe hy_env</span>
</pre></div>
	</div>
	
	       
</div>

		</div>
		
		<div class="sidebar">
<div class="sidebarcategory">
<h4>个人简介</h4>
	<li><a href="#"><b>博主：</b>小旭旭</a></li>
	<li><a href="#"><b>生日：</b>2000-07-24</a></li>
	<li><a href="#"><b>性别：</b>公</a></li>
	<li><a href="#"><b>爱人：</b>小雪雪</a></li>
</div>

<div class="sidebarpages">
</div>

<div class="sidebarcategory">
<h4>相关连接</h4>
	<li><a href="https://gitee.com/QiHanXiBei/projects" target="_blank">刘悦git</a></li>
	<li><a href="https://v3u.cn/" target="_blank">刘悦技术博客</a></li>
	<li><a href="https://gitee.com/eastside" target="_blank">Eastsidegit</a></li>
    <li><a href="https://lienze.tech/" target="_blank">老渔夫吃虾米</a></li>
    <li><a href="https://gitee.com/chen_meng-_xu/projects" target="_blank">陈梦旭git</a></li>

</div>

<div class="sidebarcategory">
<h4>热点文档</h4>
    <li><a href="http://localhost:8000/my_tow.html">Django--01简介</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--02虚拟环境</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--03环境的安装</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--04项目创建和应用</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--05pep8规范</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--06视图与URL映射</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--07常用字段</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--08Meta常用选项</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--0ORM操作</a></li>
    <li><a href="http://localhost:8000/my_tow.html">Django--10Vue解决跨域问题</a></li>

<!---->
</div>		</div>
		
		<footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                磨练， <a href="http://getpelican.com/">使人难以忍受，</a>,
                使人步履维艰， <a href="http://python.org">但它能使强者站得更挺，</a>,
				走得更稳， <a href="http://frantic1048.com/">产生更强的斗志。</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>